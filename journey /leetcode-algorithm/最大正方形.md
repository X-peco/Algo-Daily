# [æœ€å°æ­£æ–¹å½¢MID](https://leetcode.cn/problems/maximal-square)

## é¢˜ç›®æè¿°

åœ¨ä¸€ä¸ªç”± '0' å’Œ '1' ç»„æˆçš„äºŒç»´çŸ©é˜µå†…ï¼Œæ‰¾åˆ°åªåŒ…å« '1' çš„æœ€å¤§æ­£æ–¹å½¢ï¼Œå¹¶è¿”å›å…¶é¢ç§¯ã€‚

---

## æ€è·¯è®²è§£



æˆ‘ä»¬å¯ä»¥é€šè¿‡åŠ¨æ€è§„åˆ’ï¼ˆDPï¼‰æ¥æ±‚è§£ã€‚æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š

1. **æ‰©å……è¡Œåˆ—** â€”â€” å¢åŠ ä¸€è¡Œä¸€åˆ—ï¼Œæ–¹ä¾¿å¤„ç†è¾¹ç•Œï¼ˆä¸ç”¨å•ç‹¬åˆ¤æ–­è¾¹ç•Œæƒ…å†µï¼‰ã€‚
2. **DPå®šä¹‰** â€”â€” dp[i][j] è¡¨ç¤ºä»¥ (i-1, j-1) ä½œä¸ºå³ä¸‹è§’çš„æœ€å¤§æ­£æ–¹å½¢çš„è¾¹é•¿ã€‚
3. **çŠ¶æ€è½¬ç§»æ–¹ç¨‹** â€”â€”  
   å¦‚æœ matrix[i-1][j-1] == '1'ï¼Œé‚£ä¹ˆï¼š
   ```
   dp[i][j] = min(dp[i-1][j], dp[i][j-1], dp[i-1][j-1]) + 1
   ```
   å¦åˆ™ dp[i][j] = 0ã€‚

æ¯æ¬¡æ›´æ–° dp[i][j] æ—¶ï¼Œè®°å½•æœ€å¤§è¾¹é•¿å³å¯ï¼Œæœ€åè¿”å›å…¶é¢ç§¯ï¼ˆè¾¹é•¿çš„å¹³æ–¹ï¼‰ã€‚

â€”â€” â€”â€” â€”â€”

â€”â€” â€”â€” â€”â€”

â€”â€” â€”â€” â€”â€”ï¼ˆåŸçŸ©é˜µï¼‰

è¡Œåˆ—æ‰©å……ä¸€è¡Œï¼Œæ˜ å°„åŸçŸ©é˜µ

â€”â€” â€”â€” â€”â€” â€”â€”

â€”â€”        -             -           -

â€”â€”        -             -           - 

â€”â€”        -             -           -ï¼ˆDPï¼‰

DPæ˜ å°„åŒºçš„æ¯ä¸ªç‚¹è¡¨ç¤ºå¯å½¢æˆçš„æœ€å¤§æ­£æ–¹å½¢çš„å³ä¸‹è§’å’Œè¾¹é•¿

å¦‚æœè¯¥ç‚¹åœ¨åŸçŸ©é˜µä¸­ä¸º1ï¼Œåˆ™å–å…¶ï¼ˆå·¦ï¼Œä¸Šï¼Œå·¦ä¸Šï¼‰çš„æœ€å°è¾¹ï¼Œå†+1

---

>ç¤ºä¾‹ 1ï¼š
>
>![image](https://github.com/user-attachments/assets/1c5e83f8-a229-4dd5-a85e-f799df0a4758)
>
>è¾“å…¥ï¼šmatrix = [["1","0","1","0","0"],["1","0","1","1","1"],["1","1","1","1","1"],["1","0","0","1","0"]]
>è¾“å‡ºï¼š4

>ç¤ºä¾‹ 2ï¼š
>
>![image](https://github.com/user-attachments/assets/621f4772-cfb4-4182-b124-a0895b8e5680)
>
>è¾“å…¥ï¼šmatrix = [["0","1"],["1","0"]]
>è¾“å‡ºï¼š1

>ç¤ºä¾‹ 3ï¼š
>
>è¾“å…¥ï¼šmatrix = [["0"]]
>è¾“å‡ºï¼š0
---

### ğŸPython 

```python
class Solution:
    def maximalSquare(self, matrix: list[list[str]]) -> int:
        if not matrix or not matrix[0]:
            return 0
        m, n = len(matrix), len(matrix[0])
        # æ‰©å……ä¸€è¡Œä¸€åˆ—ï¼Œæ–¹ä¾¿å¤„ç†è¾¹ç•Œ
        dp = [[0] * (n + 1) for _ in range(m + 1)]
        max_side = 0
        for i in range(1, m + 1):
            for j in range(1, n + 1):
                if matrix[i-1][j-1] == '1':
                    dp[i][j] = min(
                        dp[i-1][j],    # ä¸Š
                        dp[i][j-1],    # å·¦
                        dp[i-1][j-1]   # å·¦ä¸Š
                    ) + 1
                    max_side = max(max_side, dp[i][j])
        return max_side * max_side
```

---

### ğŸ¦•C++ 

```cpp
class Solution {
public:
    int maximalSquare(vector<vector<char>>& matrix) {
        if (matrix.empty() || matrix[0].empty()) return 0;
        int m = matrix.size(), n = matrix[0].size();
        // æ‰©å……ä¸€è¡Œä¸€åˆ—ï¼Œæ–¹ä¾¿å¤„ç†è¾¹ç•Œ
        vector<vector<int>> dp(m + 1, vector<int>(n + 1, 0));
        int max_side = 0;
        for (int i = 1; i <= m; ++i) {
            for (int j = 1; j <= n; ++j) {
                if (matrix[i-1][j-1] == '1') {
                    dp[i][j] = min({dp[i-1][j], dp[i][j-1], dp[i-1][j-1]}) + 1;
                    max_side = max(max_side, dp[i][j]);
                }
            }
        }
        return max_side * max_side;
    }
};
```

---

### æ€»ç»“

- å…³é”®æ˜¯ç†è§£ dp çš„å®šä¹‰ï¼ˆä»¥å½“å‰ä½ç½®ä¸ºå³ä¸‹è§’çš„æœ€å¤§æ­£æ–¹å½¢è¾¹é•¿ï¼‰ã€‚
- æ‰©å±•è¡Œåˆ—å¯ä»¥è®©è½¬ç§»æ–¹ç¨‹å†™å¾—æ›´ç®€æ´ã€‚
